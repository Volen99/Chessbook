/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/@microsoft/signalr@3.1.3/dist/cjs/NodeHttpClient.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),__assign=this&&this.__assign||Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e};Object.defineProperty(exports,"__esModule",{value:!0});var requestModule,Errors_1=require("./Errors"),HttpClient_1=require("./HttpClient"),ILogger_1=require("./ILogger"),Utils_1=require("./Utils");if("undefined"==typeof XMLHttpRequest){var requireFunc="function"==typeof __webpack_require__?__non_webpack_require__:require;requestModule=requireFunc("request")}var NodeHttpClient=function(e){function t(t){var r=e.call(this)||this;if(void 0===requestModule)throw new Error("The 'request' module could not be loaded.");return r.logger=t,r.cookieJar=requestModule.jar(),r.request=requestModule.defaults({jar:r.cookieJar}),r}return __extends(t,e),t.prototype.send=function(e){var t=this;return new Promise(function(r,o){var n;n=Utils_1.isArrayBuffer(e.content)?Buffer.from(e.content):e.content||"";var i=t.request(e.url,{body:n,encoding:"arraybuffer"===e.responseType?null:"utf8",headers:__assign({"X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,timeout:e.timeout},function(n,i,s){if(e.abortSignal&&(e.abortSignal.onabort=null),n)return"ETIMEDOUT"===n.code&&(t.logger.log(ILogger_1.LogLevel.Warning,"Timeout from HTTP request."),o(new Errors_1.TimeoutError)),t.logger.log(ILogger_1.LogLevel.Warning,"Error from HTTP request. "+n),void o(n);i.statusCode>=200&&i.statusCode<300?r(new HttpClient_1.HttpResponse(i.statusCode,i.statusMessage||"",s)):o(new Errors_1.HttpError(i.statusMessage||"",i.statusCode||0))});e.abortSignal&&(e.abortSignal.onabort=function(){i.abort(),o(new Errors_1.AbortError)})})},t.prototype.getCookieString=function(e){return this.cookieJar.getCookieString(e)},t}(HttpClient_1.HttpClient);exports.NodeHttpClient=NodeHttpClient;
//# sourceMappingURL=/sm/139f615066f8ef39edf2267f6af42b77d4326edc25922ce752c8520adc37a5e4.map