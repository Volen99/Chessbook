<section *ngIf="this.message" aria-labelledby="detail-header" aria-label="Section details" role="region"
         class="sharebook-container main-left-right-vertical-border-color main-right-vertical-border-right-width border-style-solid main-primary-column-max-width-600px overflow-hidden width-100-per"
         style="height: 641px;"> <!--had margin-left-right-auto class kk-->
    <div class="sharebook-container backface-visibility-hidden position-sticky top-0px z-index-1">
        <div class="sharebook-container height-53px z-index-plus-2">
            <div class="sharebook-container">
                <div class="sharebook-container background-color-lights-out border-bottom-color border-bottom-style-solid border-bottom-width-1px height-53px left-right-padding-15px">
                    <div class="sharebook-container align-items-center flex-direction-row height-53px justify-content-center margin-left-right-auto header-max-width-1000px width-100-per">
                        <div class="sharebook-container flex-grow-expand flex-shrink height-100-per justify-content-center">
                            <div class="sharebook-container flex-direction-row">
                                <div class="sharebook-container container-left-side-flex-expand justify-content-center container-left-side-margin-right-10px" style="flex-basis: 30px;">
                                    <div class="sharebook-container border-radius-9999px display-block overflow-hidden">
                                        <div class="display-block width-100-per" style="padding-bottom: 100%;"></div>
                                        <div class="bottom-0px height-100-per left-0px position-absolute top-0px width-100-per"><a
                                                [routerLink]="'/' + (!this.isSent ? this.message?.fromUser.screenName.substring(1) : this.message?.toUser.screenName.substring(1))"
                                                role="link"
                                                 data-focusable="true"
                                                class="sharebook-link sharebook-cursor-pointer sharebook-container cursor-pointer outline-style-none">
                                            <div class="sharebook-container r-16l9doz overflow-hidden width-100-per">
                                                <div role="presentation" aria-hidden="true"
                                                     class="sharebook-container input-form-border-radius-0px upload-vertical-line-height outline-style-none overflow-hidden r-199wky7">
                                                    <div class="sharebook-container display-block overflow-hidden" style="">
                                                        <div class="display-block width-100-per"
                                                             style="padding-bottom: 100%;"></div>
                                                        <div class="bottom-0px height-100-per left-0px position-absolute top-0px width-100-per">
                                                            <div aria-label=""
                                                                 class="sharebook-container border-radius-9999px bottom-0px image-flex-expand left-0px overflow-hidden position-absolute right-0px top-0px image-z-index">
                                                                <div
                                                                        class="sharebook-container element-background-color-rgba image-background-position image-background-repeat image-background-size bottom-0px height-100-per left-0px position-absolute right-0px top-0px width-100-per z-index-minus-1"
                                                                        [style.background-image]="'url(' + (!this.isSent ? this.message?.fromUser.profileImageUrlHttps : this.message.toUser.profileImageUrlHttps) +')'"></div>
                                                                <img alt="" draggable="true"
                                                                     [src]="!this.isSent ? this.message?.fromUser.profileImageUrlHttps : this.message.toUser.profileImageUrlHttps"
                                                                     class="sharebook-image"></div>
                                                        </div>
                                                    </div>
                                                    <div
                                                            class="sharebook-container r-jdbj7n border-radius-9999px border-width-1px bottom-0px image-avatar-box-shadow left-0px outline-style-none position-absolute right-0px top-0px"></div>
                                                </div>
                                            </div>
                                        </a></div>
                                    </div>
                                </div>
                                <div class="sharebook-container open-space-container-flex-expand flex-grow-expand justify-content-center">
                                    <div class="sharebook-container align-items-flex-start">
                                        <h2 aria-level="2" dir="auto" role="heading" style="margin: 0"
                                            class="sharebook-link css-901oao sharebook-text font-family heading-font-size font-weight-800 inside-element-container-line-height min-width-0px text-overflow-wrap"
                                            id="detail-header">
                                            <div class="sharebook-container display-inline-flex flex-shrink max-width-100-per outline-style-none">
                                                <div class="sharebook-container align-items-center display-inline-flex flex-direction-row flex-shrink max-width-100-per outline-style-none">
                                                    <div class="sharebook-container align-items-center display-inline-flex flex-direction-row max-width-100-per"><span
                                                            class="css-901oao sharebook-text-inherit sharebook-text font-family font-weight-800 inside-element-container-line-height min-width-0px white-space-nowrap text-overflow-wrap"><span
                                                            class="css-901oao sharebook-text-inherit font-family inside-element-container-line-height min-width-0px text-overflow-wrap"><span
                                                            class="css-901oao sharebook-text-inherit font-family inside-element-container-line-height min-width-0px text-overflow-wrap">{{!this.isSent ? this.message?.fromUser.displayName : this.message.toUser.displayName}}</span></span></span><span
                                                            class="css-901oao sharebook-text-inherit flex-direction-row svg-flex-shrink-0 font-family inside-element-container-line-height min-width-0px text-overflow-wrap"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </h2>
                                        <div dir="auto"
                                             class="css-901oao sharebook-text third-wheel-color font-family third-wheel-text-font-size font-weight-400 line-height-calc min-width-0px text-overflow-wrap">
                                            <span class="css-901oao sharebook-text-inherit font-family inside-element-container-line-height min-width-0px text-overflow-wrap">{{!this.isSent ? this.message?.fromUser.screenName: this.message.toUser.screenName}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="sharebook-container align-items-flex-end align-self-stretch justify-content-center margin-left-20px min-height-30px edge-element-min-width">
                            <div class="sharebook-container flex-direction-row"><a href="javascript:void(0)"
                                                                                   aria-label="Conversation info" role="button"
                                                                                   data-focusable="true"
                                                                                   class="sharebook-link sharebook-cursor-pointer sharebook-container element-background-color-rgba element-border-color-rgba border-radius-9999px border-style-solid border-width-1px cursor-pointer border-height-0px element-min-height-39px element-min-width-39px outline-style-none element-left-right-padding-0px transition-duration transition-property users-select-none"
                                                                                   style="margin-right: calc(5px + (-1 * (41px - 1.5em)) / 2);">
                                <div dir="auto"
                                     class="css-901oao align-items-center r-13gxpu9 display-flex flex-direction-row flex-grow-expand font-family font-size-15px font-weight-700 justify-content-center line-height-1 max-width-100-per min-width-0px text-align-center text-overflow-wrap">
                                    <span class="css-901oao sharebook-text-inherit sharebook-text font-family inside-element-container-line-height min-width-0px text-overflow-wrap"><span class="text-hint caption">Last activity: <app-date-toggle [date]="!this.isSent ? this.message?.fromUser.lastLoginDate : this.message.toUser.lastLoginDate"></app-date-toggle></span></span>
                                </div>
                            </a></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="sharebook-container align-self-stretch flex-expand">
        <div class="sharebook-container bottom-0px left-0px overflow-y-auto position-absolute right-0px top-0px">
            <div class="sharebook-container flex-grow-expand margin-left-right-auto main-primary-column-max-width-600px width-100-per">
                <div class="display-flex flex-direction-column flex-grow-expand">
                    <div class="sharebook-container flex-grow-expand">
                        <div class="sharebook-container flex-grow-expand">
                            <div class="sharebook-container r-150rngu background-color-lights-out r-ouzzow flex-grow-expand height-100-per r-pm9dpa r-11yh6sk r-1knelpx"
                            style="min-height: 346px"> <!--style by mi-->
                                <div class="sharebook-container flex-grow-expand justify-content-flex-start margin-left-right-auto main-primary-column-max-width-600px left-right-padding-15px r-hbs49y width-100-per">
                                    <div style="padding-bottom: 0px;">
                                        <div style="padding-top: 0px; padding-bottom: 0px;">
                                            <div>
                                                <div data-focusable="true" tabindex="0" matRipple
                                                     class="sharebook-container align-items-center border-bottom-color border-bottom-style-solid border-bottom-width-1px r-1jkafct cursor-pointer flex-direction-column r-ku1wi2 outline-style-none left-right-padding-15px r-tvv088 transition-duration transition-property"
                                                     role="link">
                                                    <div class="sharebook-container flex-shrink max-width-100-per"><a [routerLink]="'/' + (!this.isSent ? this.message?.fromUser.screenName.substring(1) : this.message.toUser.screenName.substring(1))"
                                                                                                                      role="link"
                                                                                                                      data-focusable="true"
                                                                                                                      class="sharebook-link sharebook-cursor-pointer sharebook-container cursor-pointer flex-shrink max-width-100-per outline-style-none">
                                                        <div class="sharebook-container align-items-center flex-direction-row flex-shrink margin-bottom-5px max-width-100-per outline-style-none">
                                                            <div class="sharebook-container align-items-center flex-direction-row max-width-100-per">
                                                                <div dir="auto"
                                                                     class="css-901oao sharebook-text font-family font-size-15px font-weight-700 inside-element-container-line-height min-width-0px white-space-nowrap text-overflow-wrap">
                                  <span class="css-901oao sharebook-text-inherit font-family inside-element-container-line-height min-width-0px text-overflow-wrap"><span
                                          class="h6 css-901oao font-family inside-element-container-line-height min-width-0px text-overflow-wrap" style="font: inherit; white-space: inherit;">{{!this.isSent ? this.message?.fromUser.displayName : this.message.toUser.displayName}}</span></span>
                                                                </div>
                                                                <div dir="auto"
                                                                     class="css-901oao flex-direction-row svg-flex-shrink-0 font-family font-size-15px font-weight-400 inside-element-container-line-height min-width-0px text-overflow-wrap"></div>
                                                            </div>
                                                            <div class="sharebook-container flex-direction-row flex-shrink r-1f6r7vd">
                                                                <div dir="ltr"
                                                                     class="css-901oao sharebook-text third-wheel-color flex-direction-row font-family font-size-15px font-weight-400 inside-element-container-line-height min-width-0px text-overflow-wrap">
                                  <span
                                          class="css-901oao sharebook-text-inherit font-family inside-element-container-line-height min-width-0px text-overflow-wrap">{{!this.isSent ? this.message?.fromUser.screenName : this.message.toUser.screenName}}</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </a></div>
                                                    <div dir="auto" class="sharebook-container flex-shrink max-width-100-per text-overflow-wrap">
                                                        <span class="css-901oao sharebook-text-inherit font-family inside-element-container-line-height min-width-0px text-overflow-wrap"> {{!this.isSent ? this.message?.fromUser.description : this.message.toUser.description}}</span>
                                                    </div>
                                                    <div class="sharebook-container flex-expand flex-direction-row flex-wrap margin-bottom-5px">
                                                        <div class="sharebook-container margin-right-20px">
                                                            <div dir="auto"
                                                                 class="css-901oao font-family font-size-15px font-weight-400 inside-element-container-line-height min-width-0px text-overflow-wrap"
                                                                 title="{{!this.isSent ? this.message?.fromUser.followingCount : this.message.toUser.followingCount}}"><span
                                                                    class="css-901oao sharebook-text-inherit font-family font-weight-700 inside-element-container-line-height min-width-0px text-overflow-wrap"><span style="margin-right: 2px"
                                                                    class="css-901oao sharebook-text-inherit font-family inside-element-container-line-height min-width-0px text-overflow-wrap">{{!this.isSent ? this.message?.fromUser.followingCount : this.message.toUser.followingCount}}</span></span>
                                                                <span class="css-901oao sharebook-text-inherit third-wheel-color font-family inside-element-container-line-height min-width-0px text-overflow-wrap">
                                                                    <span class="css-901oao sharebook-text-inherit font-family inside-element-container-line-height min-width-0px text-overflow-wrap">Following</span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="sharebook-container">
                                                            <div dir="auto"
                                                                 class="css-901oao font-family font-size-15px font-weight-400 inside-element-container-line-height min-width-0px text-overflow-wrap"
                                                                 title="{{!this.isSent ? this.message?.fromUser.followersCount : this.message.toUser.followersCount}}"><span
                                                                    class="css-901oao sharebook-text-inherit font-family font-weight-700 inside-element-container-line-height min-width-0px text-overflow-wrap"><span style="margin-right: 2px"
                                                                    class="css-901oao sharebook-text-inherit font-family inside-element-container-line-height min-width-0px text-overflow-wrap">{{!this.isSent ? this.message?.fromUser.followersCount : this.message.toUser.followersCount}}</span></span>
                                                                <span class="css-901oao sharebook-text-inherit third-wheel-color font-family inside-element-container-line-height min-width-0px text-overflow-wrap"><span
                                                                        class="css-901oao sharebook-text-inherit font-family inside-element-container-line-height min-width-0px text-overflow-wrap">Followers</span></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div dir="auto"
                                                         class="css-901oao third-wheel-color svg-display-inline-block font-family font-size-15px font-weight-400 inside-element-container-line-height container-left-side-margin-right-10px min-width-0px text-overflow-wrap">
                                                        <fa-icon [icon]="this.faCalendarAlt"></fa-icon>
                                                        Joined {{(!this.isSent ? this.message?.fromUser.createdOn : this.message.toUser.createdOn) | date}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <div class="sharebook-container flex-direction-column r-k8qxaj">
                                                    <div aria-expanded="false" data-focusable="true" tabindex="0"
                                                         class="sharebook-container align-items-flex-start r-7q8q6z outline-style-none">
                                                        <div class="sharebook-container r-1euycsn r-17s6mgv footer-padding-right r-1nwbi2h">
                                                            <div class="sharebook-container align-items-flex-start flex-shrink">
                                                                <div role="presentation"
                                                                     class="message-color sharebook-container align-self-flex-start r-pm2fo main-left-right-vertical-border-color border-radius-16px input-form-box-sizing max-width-100-per outline-style-none left-right-padding-15px stacked-elements-padding-bottom-top transition-duration transition-property">
                                                                    <div dir="auto"
                                                                         class="css-901oao share-button-text-color font-family font-size-15px font-weight-400 inside-element-container-line-height min-width-0px overflow-hidden svg-position-relative search-placeholder-text-align text-overflow-wrap">
                                                                        <span class="css-901oao sharebook-text-inherit font-family inside-element-container-line-height min-width-0px text-overflow-wrap" [innerHTML]="this.statusHTMLText"></span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="sharebook-container align-items-flex-end flex-direction-row">
                                                                <div class="sharebook-container r-phn5h3"></div>
                                                                <div class="sharebook-container left-0px position-absolute" style="width: 40px"> <!--style by mi-->
                                                                    <a
                                                                            [routerLink]="'/' + this.message?.fromUser.screenName.substring(1)" role="link"
                                                                        data-focusable="true"
                                                                        class="sharebook-link sharebook-cursor-pointer sharebook-container border-radius-9999px cursor-pointer r-j66t93 outline-style-none overflow-hidden transition-duration transition-property r-eu2yb4">
                                                                    <div class="sharebook-container display-block overflow-hidden"
                                                                         style="">
                                                                        <div class="display-block width-100-per"
                                                                             style="padding-bottom: 100%;"></div>
                                                                        <div class="bottom-0px height-100-per left-0px position-absolute top-0px width-100-per">
                                                                            <div [attr.aria-label]="this.message?.fromUser.displayName"
                                                                                 class="sharebook-container border-radius-9999px bottom-0px image-flex-expand left-0px overflow-hidden position-absolute right-0px top-0px image-z-index">
                                                                                <div class="sharebook-container element-background-color-rgba image-background-position image-background-repeat image-background-size bottom-0px height-100-per left-0px position-absolute right-0px top-0px width-100-per z-index-minus-1"
                                                                                        [style.background-image]="'url(' + this.message?.fromUser.profileImageUrlHttps +')'"></div>
                                                                                <img alt="{{this.message?.fromUser.displayName}}" draggable="true"
                                                                                     [src]="this.message?.fromUser.profileImageUrlHttps"
                                                                                     class="sharebook-image"></div>
                                                                        </div>
                                                                    </div>
                                                                    <div
                                                                            class="sharebook-container image-avatar-border-color border-radius-9999px border-width-1px bottom-0px image-avatar-box-shadow left-0px outline-style-none position-absolute right-0px top-0px transition-duration transition-property"></div>
                                                                </a></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="sharebook-container margin-top-2px overflow-hidden r-1nwbi2h">
                                                        <div class="sharebook-container r-1gvt8yx"></div>
                                                        <div role="button" data-focusable="true" tabindex="0"
                                                             class="sharebook-cursor-pointer sharebook-container outline-style-none">
                                                            <div class="sharebook-container">
                                                                <div class="sharebook-container r-1gvt8yx">
                                                                    <div dir="auto"
                                                                         class="css-901oao third-wheel-color font-family third-wheel-text-font-size font-weight-400 line-height-calc min-width-0px search-placeholder-text-align text-overflow-wrap">
                                                                        <app-date-toggle [date]="this.message?.createdOn"></app-date-toggle>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <div
                                                        class="sharebook-container flex-direction-row border-height-0px overflow-hidden r-1mdbw0j r-9aemit svg-position-relative transition-duration r-onhvzr r-1h2t8mc">
                                                    <div class="sharebook-container align-items-flex-start display-inline-flex flex-direction-row"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <aside aria-label="Start a new message" role="complementary"
                               class="sharebook-container background-color-lights-out r-2sztyj r-5kkj8d r-97e31f">
                            <div role="progressbar" aria-valuemax="100" aria-valuemin="0" aria-valuenow="0"
                                 class="sharebook-container progress-bar-height overflow-hidden users-select-none width-100-per image-z-index">
                                <div class="sharebook-container sharebook-background-color-blue height-100-per r-1joz4e6 r-11iat2r r-1c4c958 z-index-minus-1"
                                     style="width: 0%;"></div>
                            </div>
                            <div class="sharebook-container align-items-flex-end flex-direction-row r-1uu6nss width-100-per">
                                <div class="sharebook-container flex-direction-row miniature-element-margin-right">
                                    <div *ngIf="!(this.message?.fromUser.id === this.userCurrent?.id)" aria-label="Reply" role="button" data-focusable="true"
                                         tabindex="0"
                                         class="icon-hover sharebook-cursor-pointer sharebook-container element-background-color-rgba element-border-color-rgba border-radius-9999px r-1phboty border-width-1px border-height-0px input-form-margin element-min-height-39px element-min-width-39px outline-style-none element-left-right-padding-0px transition-duration transition-property users-select-none"
                                         ngbTooltip="Reply"
                                         placement="auto" [openDelay]="700"
                                    (click)="this.handleReply()">
                                        <div dir="auto"
                                             class="css-901oao align-items-center r-13gxpu9 display-flex flex-direction-row flex-grow-expand font-family font-size-15px font-weight-700 justify-content-center line-height-1 max-width-100-per min-width-0px text-align-center text-overflow-wrap">
                                            <fa-icon [icon]="this.faReply"></fa-icon>
                                            <span class="css-901oao sharebook-text-inherit sharebook-text font-family inside-element-container-line-height min-width-0px text-overflow-wrap"></span>
                                        </div>
                                    </div>
                                    <input accept="image/jpeg,image/png,image/webp,image/gif,video/mp4,video/quicktime,video/webm"
                                           tabindex="-1" type="file" data-focusable="true"
                                           class="add-photos-or-video-default-input-height opacity-0 overflow-hidden position-absolute add-photos-or-video-default-input-width z-index-minus-1">
                                    <div aria-label="Delete" role="button" data-focusable="true" tabindex="0"
                                         class="icon-hover sharebook-cursor-pointer sharebook-container element-background-color-rgba element-border-color-rgba r-42olwf border-radius-9999px r-1phboty border-width-1px border-height-0px element-min-height-39px element-min-width-39px outline-style-none element-left-right-padding-0px transition-duration transition-property users-select-none"
                                         ngbTooltip="Delete"
                                         placement="auto" [openDelay]="700"
                                         (click)="this.handleDelete()">
                                        <div dir="auto"
                                             class="css-901oao align-items-center r-13gxpu9 display-flex flex-direction-row flex-grow-expand font-family font-size-15px font-weight-700 justify-content-center line-height-1 max-width-100-per min-width-0px text-align-center text-overflow-wrap">
                                            <fa-icon [icon]="this.faTrash"></fa-icon>
                                            <span class="css-901oao sharebook-text-inherit sharebook-text font-family inside-element-container-line-height min-width-0px text-overflow-wrap"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
